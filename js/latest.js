// Generated by CoffeeScript 1.3.1
(function(){var a;a={server:"http://librize.com",root:"http://librize.github.com/widgets",default_params:{},style_loaded:{},addStyle:function(a){return $("head").append('<link rel="stylesheet" type="text/css" href="'+a+'" />')},getQueryParams:function(a){var b,c,d,e,f,g,h,i;d={};h=a.replace(/^.*\?/,"").split("&");for(f=0,g=h.length;f<g;f++){c=h[f];i=c.split("="),b=i[0],e=i[1];d[b]=e}return d},getDefaultParams:function(a){var b;b=this.getQueryParams(a);return this.default_params={place:b.place||void 0,limit:b.limit||5,height:b.height||75,theme:b.theme||"simple"}},show:function(b){var c,d,e,f,g,h=this;e=b.attr("data-place")||this.default_params.place;d=b.attr("data-limit")||this.default_params.limit;c=b.attr("data-height")||this.default_params.height;f=b.attr("data-theme")||this.default_params.theme;if(e){(this.style_loaded[f]==null?f!=="none":void 0)&&this.addStyle(""+a.root+"/css/"+f+".css");this.style_loaded[f]=!0;g=""+a.server+"/places/"+e+"/place_items.json?limit="+d+"&height="+c+"&callback=?";return $.getJSON(g,function(a){var c,d,e,g;d='<ul class="'+f+'">';for(e=0,g=a.length;e<g;e++){c=a[e];d+='<li><a href="'+c.url+'"><img src="'+c.image+'" alt="'+c.title+'" /></a></li>'}d+="</ul>";return b.html(d)})}return typeof console!="undefined"&&console!==null?console.log("Place ID required."):void 0}};$(function(){var b,c,d,e,f,g,h;c=$('script[src^="'+a.root+'/js/latest.js"]');d=$(c).attr("src");a.getDefaultParams(d);g=$("div.librize-widget.latest");h=[];for(e=0,f=g.length;e<f;e++){b=g[e];h.push(a.show($(b)))}return h})}).call(this);